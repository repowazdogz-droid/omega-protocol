{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "omega://spine/contracts/spatial_surface.schema.json",
  "title": "SpatialSurface",
  "type": "object",
  "additionalProperties": false,
  "required": ["schemaVersion", "surfaceId", "surfaceType", "title", "trust", "layers", "elements", "bounds"],
  "properties": {
    "schemaVersion": { "type": "string", "const": "1.0" },
    "surfaceId": { "type": "string", "pattern": "^[a-z][a-z0-9_\\-]{2,64}$" },
    "surfaceType": {
      "type": "string",
      "enum": ["constraint_room", "causal_room", "assumption_room", "tradeoff_room", "assurance_room", "custom"]
    },
    "title": { "type": "string", "minLength": 1, "maxLength": 120 },
    "description": { "type": "string", "maxLength": 800 },
    "trust": { "$ref": "omega://spine/contracts/trust_contract.schema.json" },
    "layers": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "omega://spine/contracts/layer.schema.json" }
    },
    "elements": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "omega://spine/contracts/element.schema.json" }
    },
    "bounds": { "$ref": "omega://spine/contracts/bounds.schema.json" },
    "uncertainty": { "$ref": "omega://spine/contracts/uncertainty.schema.json" },
    "provenance": { "$ref": "omega://spine/contracts/provenance.schema.json" }
  }
}


